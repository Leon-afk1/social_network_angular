<div *ngIf="reviews && reviews.length > 0" class="reviews-section">
  <h2 class="reviews-title">Avis des utilisateurs</h2>
  <div class="review-container" *ngFor="let review of reviews">
    <div class="review">
      <div class="review-header">
        <a [routerLink]="['/profile', review.userId]" class="review-author">
          <img *ngIf="review.user?.avatar" [src]="review.user?.avatar" alt="{{ review.user?.username }}" class="avatar">
          <span *ngIf="!review.user?.avatar" class="avatar-placeholder"></span> 
          <span>{{ review.user?.username }}</span>
        </a>
        <p class="review-date">({{ formatDate(review.date) }})</p>
        <div class="rating">
          <ng-container [ngSwitch]="review.rating">
            <span class="rating-stars" *ngSwitchCase="5">★★★★★</span>
            <span class="rating-stars" *ngSwitchCase="4">★★★★☆</span>
            <span class="rating-stars" *ngSwitchCase="3">★★★☆☆</span>
            <span class="rating-stars" *ngSwitchCase="2">★★☆☆☆</span>
            <span class="rating-stars" *ngSwitchCase="1">★☆☆☆☆</span>
            <span class="rating-stars" *ngSwitchCase="0">☆☆☆☆☆</span>
          </ng-container>
          <span class="rating-value">{{ review.rating }}/5</span>
        </div>
      </div>
      <p class="review-comment">{{ review.comment }}</p>
    </div>
  </div>
</div>

<div *ngIf="reviews && reviews.length === 0" class="no-reviews">
  <p>Aucun avis pour cette recette.</p>
</div>
